{"ast":null,"code":"import _classCallCheck from\"C:\\\\Flippay\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Flippay\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Flippay\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Flippay\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Flippay\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{MDBContainer,MDBRow,MDBCol,MDBInput,MDBBtn}from\"mdbreact\";import{Postdata}from'./Postdata';import{Redirect}from'react-router-dom';import{withRouter}from'react-router-dom';import'./signInStyle.css';import{Link}from'react-router-dom';import axios from'axios';var signIn=/*#__PURE__*/function(_Component){_inherits(signIn,_Component);var _super=_createSuper(signIn);function signIn(props){var _this;_classCallCheck(this,signIn);_this=_super.call(this,props);_this.login=function(e){e.preventDefault();var data={email:_this.state.email,password:_this.state.password};var isValid=_this.validate();if(isValid){// if(this.state.email && this.state.password){\naxios.post('auth/login',data).then(function(res){localStorage.setItem('token',res.data.token);var history=_this.props.history;history.push(\"/dashboard\");// this.props.history.push('/dashboard')\n// this.context.history.push('/dashboard')\n// this.context.router.transitionTo('/dashboard')\n}).catch(function(err){console.log(err);});// }        \n}// const data = {\n//     email:this.state.email,\n//     password:this.state.password,\n// }\n// e.preventDefault();\n// axios.post('login', data)\n// .then(res => {\n//     localStorage.setItem('token', res.data.token);\n//     this.context.router.history.push({\n//         pathname:'/dashboard',\n//         state: { token: JSON.stringify(res.data) }\n//     });\n//     this.setState({isLogin: true});\n// })\n// .catch(function (error) {\n//     console.log(error.message);\n// })\n};_this.validate=function(){var emailError='';var passwordError='';if(!_this.state.email.includes('@')){emailError='invalid email';}if(emailError){_this.setState({emailError});return false;}var passwordRegex=/(?=.*[0-9])/;if(!_this.state.password){passwordError='required';}else if(_this.state.password.length<8){passwordError=\"password must be eight characters long\";}// else if(!passwordRegex.test(this.state.password)){\n//     passwordError = \"Invalid password, must contain one number\"\n// }\nif(passwordError){_this.setState({passwordError});return false;}return true;};_this.state={email:'',password:'',emailError:'',passwordError:'',isLogin:false};_this.login=_this.login.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));return _this;}_createClass(signIn,[{key:\"onChange\",value:function onChange(e){this.setState({[e.target.name]:e.target.value});}},{key:\"render\",value:function render(){// if(this.state.isLogin){\n//     return <Redirect to= \"/dashboard\" />\n// }\n// if(localStorage.getItem(\"token\")){\n//     return(<Redirect to= \"/dashboard\"/>)\n// }\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MDBContainer,{fluid:true,className:\"contain\"},/*#__PURE__*/React.createElement(MDBRow,{className:\"row-block\"},/*#__PURE__*/React.createElement(MDBCol,{size:\"6\",className:\"form-style row-no-padding formStyle\",sm:\"6\",md:\"5\",lg:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"signIn-form\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"h5 text-center mb-4\"},\"Sign In to Flippay\"),/*#__PURE__*/React.createElement(\"p\",null,\"Use your credentials to login into account.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"grey-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"textbox\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-user icon-user\",\"aria-hidden\":\"true\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",placeholder:\"email\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{style:{color:\"red\"}},this.state.emailError),/*#__PURE__*/React.createElement(\"div\",{className:\"textbox\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-lock\",\"aria-hidden\":\"true\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"password\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{style:{color:\"red\"}},this.state.passwordError)),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center connect\"},/*#__PURE__*/React.createElement(Link,{to:\"/SignUp\"},\"Use your credentials to create account.\"),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"login\",className:\"button\",onClick:this.login}))))),/*#__PURE__*/React.createElement(MDBCol,{size:\"6\",sm:\"6\",md:\"5\",lg:\"6\",className:\"form-style row-no-padding\"},/*#__PURE__*/React.createElement(\"div\",{className:\"img-styler\"},/*#__PURE__*/React.createElement(\"div\",{className:\"overLay\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Hello There! Join Us\"),/*#__PURE__*/React.createElement(\"p\",null,\"Lorem dolore elit cillum nostrud ex in minim et.\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-rounded bt-background\"},\"Sign Up\")))))));}}]);return signIn;}(Component);export default withRouter(signIn);","map":{"version":3,"sources":["C:/Flippay/src/components/signin/SignIn.js"],"names":["React","Component","MDBContainer","MDBRow","MDBCol","MDBInput","MDBBtn","Postdata","Redirect","withRouter","Link","axios","signIn","props","login","e","preventDefault","data","email","state","password","isValid","validate","post","then","res","localStorage","setItem","token","history","push","catch","err","console","log","emailError","passwordError","includes","setState","passwordRegex","length","isLogin","bind","onChange","target","name","value","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { MDBContainer, MDBRow, MDBCol,MDBInput, MDBBtn } from \"mdbreact\";\r\nimport { Postdata } from './Postdata';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {withRouter} from 'react-router-dom';\r\nimport './signInStyle.css';\r\nimport { Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\n class signIn extends Component {\r\n   \r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state={\r\n            email:'',\r\n            password:'',\r\n            emailError: '',\r\n            passwordError: '',\r\n            isLogin:false\r\n        }\r\n        this.login =this.login.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n    login = e =>{\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            email:this.state.email,\r\n            password: this.state.password\r\n        }\r\n\r\n        const isValid = this.validate();\r\n            if (isValid) {\r\n                // if(this.state.email && this.state.password){\r\n                    axios.post('auth/login', data)\r\n                    .then(res => {\r\n                        localStorage.setItem('token', res.data.token)\r\n                        const { history } = this.props;\r\n                        history.push(\"/dashboard\")\r\n                        // this.props.history.push('/dashboard')\r\n                        // this.context.history.push('/dashboard')\r\n                        // this.context.router.transitionTo('/dashboard')\r\n                    })\r\n                        .catch(err => {\r\n                        console.log(err);\r\n         })\r\n\r\n                            // }        \r\n            }\r\n        // const data = {\r\n        //     email:this.state.email,\r\n        //     password:this.state.password,\r\n        // }\r\n        // e.preventDefault();\r\n        // axios.post('login', data)\r\n        // .then(res => {\r\n        //     localStorage.setItem('token', res.data.token);\r\n        //     this.context.router.history.push({\r\n        //         pathname:'/dashboard',\r\n        //         state: { token: JSON.stringify(res.data) }\r\n        //     });\r\n        //     this.setState({isLogin: true});\r\n        // })\r\n        // .catch(function (error) {\r\n        //     console.log(error.message);\r\n        // })\r\n    }\r\n// validate = yup.object().shape({\r\n//     email: Yup.string()\r\n//     .email()\r\n//     .required(\"Required\"),\r\n//     password: Yup.string()\r\n//     .password()\r\n//     .password(\"Required\")\r\n//     .min(8, \"password is too short\")\r\n//     .matches(/(?=.*[0-9])/, \"Password must contain a number\")\r\n// })\r\n\r\n    validate = ()=> {\r\n        let emailError= '';\r\n        let passwordError= '';\r\n\r\n        if(!this.state.email.includes('@')){\r\n            emailError = 'invalid email';\r\n        }\r\n        if (emailError){\r\n            this.setState({emailError});\r\n            return false;\r\n        }\r\n\r\n        const passwordRegex = /(?=.*[0-9])/;\r\n\r\n        if(!this.state.password){\r\n            passwordError = 'required';\r\n        }\r\n        else if(this.state.password.length < 8){\r\n            passwordError = \"password must be eight characters long\"\r\n        }\r\n        // else if(!passwordRegex.test(this.state.password)){\r\n        //     passwordError = \"Invalid password, must contain one number\"\r\n        // }\r\n        if (passwordError){\r\n            this.setState({passwordError});\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    onChange(e){\r\n        this.setState({[e.target.name]:e.target.value})\r\n    }\r\n    render() {\r\n        // if(this.state.isLogin){\r\n        //     return <Redirect to= \"/dashboard\" />\r\n        // }\r\n\r\n        // if(localStorage.getItem(\"token\")){\r\n        //     return(<Redirect to= \"/dashboard\"/>)\r\n        // }\r\n        return (\r\n            <div>\r\n                        <MDBContainer fluid className=\"contain\">\r\n            <MDBRow className=\"row-block\">\r\n            <MDBCol size=\"6\" className=\"form-style row-no-padding formStyle\" sm=\"6\" md=\"5\" lg=\"6\">\r\n            <div className=\"form-wrapper\">\r\n            <div className=\"signIn-form\">\r\n                <h1 className=\"h5 text-center mb-4\">Sign In to Flippay</h1>\r\n                <p>Use your credentials to login into account.</p>\r\n                <div className=\"grey-text\">\r\n                <div className=\"textbox\"> \r\n                <i class=\"fas fa-user icon-user\"  aria-hidden=\"true\"></i>\r\n                <input type=\"text\" name=\"email\" placeholder=\"email\" onChange={this.onChange}/>\r\n                </div>\r\n                <div style={{ color:\"red\"}}>\r\n                    {this.state.emailError}\r\n                </div>\r\n                <div className=\"textbox\"> \r\n                <i class=\"fas fa-lock\" aria-hidden=\"true\"></i>\r\n                <input type=\"password\" name=\"password\" placeholder=\"password\"  onChange={this.onChange}/>\r\n                </div>\r\n                <div style={{ color:\"red\"}}>\r\n                    {this.state.passwordError}\r\n                </div>\r\n                </div>\r\n                <div className=\"text-center connect\">\r\n                <Link to=\"/SignUp\">Use your credentials to create account.</Link>\r\n                {/* <MDBBtn type=\"submit\" value=\"login\" className=\"button\" onClick={this.login} className=\"form-btn\">Login</MDBBtn> */}\r\n                <input type=\"submit\" value=\"login\" className=\"button\" onClick={this.login}/>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            </MDBCol>\r\n            <MDBCol size=\"6\" sm=\"6\" md=\"5\" lg=\"6\" className=\"form-style row-no-padding\">\r\n                <div className=\"img-styler\">\r\n                    <div className=\"overLay\">\r\n                        <h2>Hello There! Join Us</h2>\r\n                        <p>Lorem dolore elit cillum nostrud ex in minim et.</p><br/>\r\n                        <button type=\"button\" className=\"btn btn-rounded bt-background\">Sign Up</button>\r\n                    </div>\r\n                </div>\r\n            </MDBCol>\r\n          </MDBRow>\r\n        </MDBContainer>\r\n             {/* <div>\r\n                 <h2>Login Page</h2>\r\n                 <label>Email</label>\r\n                 <input type=\"text\" name=\"email\" placeholder=\"email\" onChange={this.onChange}/>\r\n                 <label>Password</label>\r\n                <input type=\"password\" name=\"password\" placeholder=\"password\" onChange={this.onChange}/>\r\n                 <input type=\"submit\" value=\"login\" className=\"button\" onClick={this.login}/>\r\n                  </div> */}\r\n            </div> \r\n        )\r\n    }\r\n}\r\nexport default withRouter(signIn);"]},"metadata":{},"sourceType":"module"}