{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _extractPath = require('./extractPath');\n\nvar _extractPath2 = _interopRequireDefault(_extractPath);\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction useBasename(createHistory) {\n  return function () {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var basename = options.basename;\n\n    var historyOptions = _objectWithoutProperties(options, ['basename']);\n\n    var history = createHistory(historyOptions); // Automatically use the value of <base href> in HTML\n    // documents as basename if it's not explicitly given.\n\n    if (basename == null && _ExecutionEnvironment.canUseDOM) {\n      var base = document.getElementsByTagName('base')[0];\n      if (base) basename = _extractPath2['default'](base.href);\n    }\n\n    function addBasename(location) {\n      if (basename && location.basename == null) {\n        if (location.pathname.indexOf(basename) === 0) {\n          location.pathname = location.pathname.substring(basename.length);\n          location.basename = basename;\n          if (location.pathname === '') location.pathname = '/';\n        } else {\n          location.basename = '';\n        }\n      }\n\n      return location;\n    }\n\n    function prependBasename(location) {\n      if (!basename) return location;\n      if (typeof location === 'string') location = _parsePath2['default'](location);\n      var pname = location.pathname;\n      var normalizedBasename = basename.slice(-1) === '/' ? basename : basename + '/';\n      var normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname;\n      var pathname = normalizedBasename + normalizedPathname;\n      return _extends({}, location, {\n        pathname: pathname\n      });\n    } // Override all read methods with basename-aware versions.\n\n\n    function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        _runTransitionHook2['default'](hook, addBasename(location), callback);\n      });\n    }\n\n    function listen(listener) {\n      return history.listen(function (location) {\n        listener(addBasename(location));\n      });\n    } // Override all write methods with basename-aware versions.\n\n\n    function push(location) {\n      history.push(prependBasename(location));\n    }\n\n    function replace(location) {\n      history.replace(prependBasename(location));\n    }\n\n    function createPath(location) {\n      return history.createPath(prependBasename(location));\n    }\n\n    function createHref(location) {\n      return history.createHref(prependBasename(location));\n    }\n\n    function createLocation() {\n      return addBasename(history.createLocation.apply(history, arguments));\n    } // deprecated\n\n\n    function pushState(state, path) {\n      if (typeof path === 'string') path = _parsePath2['default'](path);\n      push(_extends({\n        state: state\n      }, path));\n    } // deprecated\n\n\n    function replaceState(state, path) {\n      if (typeof path === 'string') path = _parsePath2['default'](path);\n      replace(_extends({\n        state: state\n      }, path));\n    }\n\n    return _extends({}, history, {\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation,\n      pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n      replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n    });\n  };\n}\n\nexports['default'] = useBasename;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["C:/Flippay/node_modules/history/lib/useBasename.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_interopRequireDefault","obj","_objectWithoutProperties","keys","indexOf","_ExecutionEnvironment","require","_runTransitionHook","_runTransitionHook2","_extractPath","_extractPath2","_parsePath","_parsePath2","_deprecate","_deprecate2","useBasename","createHistory","options","undefined","basename","historyOptions","history","canUseDOM","base","document","getElementsByTagName","href","addBasename","location","pathname","substring","prependBasename","pname","normalizedBasename","slice","normalizedPathname","charAt","listenBefore","hook","callback","listen","listener","push","replace","createPath","createHref","createLocation","apply","pushState","state","path","replaceState","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _extractPath = require('./extractPath');\n\nvar _extractPath2 = _interopRequireDefault(_extractPath);\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction useBasename(createHistory) {\n  return function () {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var basename = options.basename;\n\n    var historyOptions = _objectWithoutProperties(options, ['basename']);\n\n    var history = createHistory(historyOptions);\n\n    // Automatically use the value of <base href> in HTML\n    // documents as basename if it's not explicitly given.\n    if (basename == null && _ExecutionEnvironment.canUseDOM) {\n      var base = document.getElementsByTagName('base')[0];\n\n      if (base) basename = _extractPath2['default'](base.href);\n    }\n\n    function addBasename(location) {\n      if (basename && location.basename == null) {\n        if (location.pathname.indexOf(basename) === 0) {\n          location.pathname = location.pathname.substring(basename.length);\n          location.basename = basename;\n\n          if (location.pathname === '') location.pathname = '/';\n        } else {\n          location.basename = '';\n        }\n      }\n\n      return location;\n    }\n\n    function prependBasename(location) {\n      if (!basename) return location;\n\n      if (typeof location === 'string') location = _parsePath2['default'](location);\n\n      var pname = location.pathname;\n      var normalizedBasename = basename.slice(-1) === '/' ? basename : basename + '/';\n      var normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname;\n      var pathname = normalizedBasename + normalizedPathname;\n\n      return _extends({}, location, {\n        pathname: pathname\n      });\n    }\n\n    // Override all read methods with basename-aware versions.\n    function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        _runTransitionHook2['default'](hook, addBasename(location), callback);\n      });\n    }\n\n    function listen(listener) {\n      return history.listen(function (location) {\n        listener(addBasename(location));\n      });\n    }\n\n    // Override all write methods with basename-aware versions.\n    function push(location) {\n      history.push(prependBasename(location));\n    }\n\n    function replace(location) {\n      history.replace(prependBasename(location));\n    }\n\n    function createPath(location) {\n      return history.createPath(prependBasename(location));\n    }\n\n    function createHref(location) {\n      return history.createHref(prependBasename(location));\n    }\n\n    function createLocation() {\n      return addBasename(history.createLocation.apply(history, arguments));\n    }\n\n    // deprecated\n    function pushState(state, path) {\n      if (typeof path === 'string') path = _parsePath2['default'](path);\n\n      push(_extends({ state: state }, path));\n    }\n\n    // deprecated\n    function replaceState(state, path) {\n      if (typeof path === 'string') path = _parsePath2['default'](path);\n\n      replace(_extends({ state: state }, path));\n    }\n\n    return _extends({}, history, {\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation,\n\n      pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n      replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n    });\n  };\n}\n\nexports['default'] = useBasename;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}